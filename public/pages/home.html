<div class="page-wrap">
	<div class="home-wrap clear">
		<a id="logout-btn" class="btn btn-primary" ng-click="logout()">登出</a>
		<div class="home-list-wrap">
			<div class="user-bar clear" ng-click="showUserInfo()">
				<img class="host-face" src="uploadFiles/default.jpg">
				<p class="user-name">{{me.username}}</p>
			</div>
			<div class="list-header box">
				<span class="new-btn" ng-click="changeRoomProcessMode(0)">新建</span>	<p>聊天室列表</p> <span class="search-btn" ng-click="changeRoomProcessMode(1)"></span>
			</div>
			<div class="new-search-bar" ng-hide="room_process_hide">
				<form ng-submit="roomprocess()">
					<input type="text" class="new-search-input" placeholder="请输入房间名"><input type="submit"  class="new-search-btn {{btn_style}}"  value="{{room_process}}"> 
				</form>

			</div>
			<div class="list-body-wrap">
				<loading class="room-list-loading" ></loading>
				<ul class="list-body" >
					<li ng-repeat = "room in room_list" style="position: relative">
						<a href="javascript:void(0)" style="display: inline-block;height: 100%;width: 100%" >
							<img src="img/room_icon.jpg">
							<span>{{room.name}}</span>
							<a href="javascript:void(0)" style="position:absolute;right:10px;top:50%;margin-top: -15px;height: 30px;width: 50px;color:#fff;background-color: #0cce70;border-radius: 4px;line-height: 30px;text-align: center;font-size: 16px;" ng-click="openRoom(room._id,room.name)">进入</a>
						</a>				
					</li>		
				</ul>
			</div>	
		</div>
		<div class="right-wrap" style="display: none">
			<div class="chat-panel-header box">
				<span>{{room.name}}</span>
				<span class="close-chat-btn" ng-click="closeRoom()">关闭</span><span ng-click="showUserList()" class="open-online-user-btn">{{user_list_btn_text}}</span>
			</div>
			<div class="chat-panel-body">
				<div class="chat-content-panel">
					<ul auto-scroll-to-bottom>
						<li class="content-li" ng-repeat = "message in messageList">
							<span class="user-name" ng-click="showUserInfo(message.creator._id)">{{message.creator.username}}：</span> <span class="chat-content" ng-bind-html="TrustDangerousSnippet(message)">
							{{message.content}}
							</span>
						</li>				
					</ul>
				</div>
			</div>
			<div class="chat-panel-footer box">
			<div class="faceBoxWrap" ng-show="is_face_box_show"><a title="微笑" href="#"><span class="icons icons-smiley_0"></span></a><a title="撇嘴" href="#"><span class="icons icons-smiley_1"></span></a><a title="色" href="#"><span class="icons icons-smiley_2"></span></a><a title="发呆" href="#"><span class="icons icons-smiley_3"></span></a><a title="得意" href="#"><span class="icons icons-smiley_4"></span></a><a title="流泪" href="#"><span class="icons icons-smiley_5"></span></a><a title="害羞" href="#"><span class="icons icons-smiley_6"></span></a><a title="闭嘴" href="#"><span class="icons icons-smiley_7"></span></a><a title="睡" href="#"><span class="icons icons-smiley_8"></span></a><a title="大哭" href="#"><span class="icons icons-smiley_9"></span></a><a title="尴尬" href="#"><span class="icons icons-smiley_10"></span></a><a title="发怒" href="#"><span class="icons icons-smiley_11"></span></a><a title="调皮" href="#"><span class="icons icons-smiley_12"></span></a><a title="呲牙" href="#"><span class="icons icons-smiley_13"></span></a><a title="惊讶" href="#"><span class="icons icons-smiley_14"></span></a><a title="难过" href="#"><span class="icons icons-smiley_15"></span></a><a title="酷" href="#"><span class="icons icons-smiley_16"></span></a><a title="冷汗" href="#"><span class="icons icons-smiley_17"></span></a><a title="抓狂" href="#"><span class="icons icons-smiley_18"></span></a><a title="吐" href="#"><span class="icons icons-smiley_19"></span></a><a title="偷笑" href="#"><span class="icons icons-smiley_20"></span></a><a title="愉快" href="#"><span class="icons icons-smiley_21"></span></a><a title="白眼" href="#"><span class="icons icons-smiley_22"></span></a><a title="傲慢" href="#"><span class="icons icons-smiley_23"></span></a><a title="饥饿" href="#"><span class="icons icons-smiley_24"></span></a><a title="困" href="#"><span class="icons icons-smiley_25"></span></a><a title="惊恐" href="#"><span class="icons icons-smiley_26"></span></a><a title="流汗" href="#"><span class="icons icons-smiley_27"></span></a><a title="憨笑" href="#"><span class="icons icons-smiley_28"></span></a><a title="悠闲" href="#"><span class="icons icons-smiley_29"></span></a><a title="奋斗" href="#"><span class="icons icons-smiley_30"></span></a><a title="咒骂" href="#"><span class="icons icons-smiley_31"></span></a><a title="疑问" href="#"><span class="icons icons-smiley_32"></span></a><a title="嘘" href="#"><span class="icons icons-smiley_33"></span></a><a title="晕" href="#"><span class="icons icons-smiley_34"></span></a><a title="疯了" href="#"><span class="icons icons-smiley_35"></span></a><a title="衰" href="#"><span class="icons icons-smiley_36"></span></a><a title="骷髅" href="#"><span class="icons icons-smiley_37"></span></a><a title="敲打" href="#"><span class="icons icons-smiley_38"></span></a><a title="再见" href="#"><span class="icons icons-smiley_39"></span></a><a title="擦汗" href="#"><span class="icons icons-smiley_40"></span></a><a title="抠鼻" href="#"><span class="icons icons-smiley_41"></span></a><a title="鼓掌" href="#"><span class="icons icons-smiley_42"></span></a><a title="糗大了" href="#"><span class="icons icons-smiley_43"></span></a><a title="坏笑" href="#"><span class="icons icons-smiley_44"></span></a><a title="左哼哼" href="#"><span class="icons icons-smiley_45"></span></a><a title="右哼哼" href="#"><span class="icons icons-smiley_46"></span></a><a title="哈欠" href="#"><span class="icons icons-smiley_47"></span></a><a title="鄙视" href="#"><span class="icons icons-smiley_48"></span></a><a title="委屈" href="#"><span class="icons icons-smiley_49"></span></a><a title="快哭了" href="#"><span class="icons icons-smiley_50"></span></a><a title="阴险" href="#"><span class="icons icons-smiley_51"></span></a><a title="亲亲" href="#"><span class="icons icons-smiley_52"></span></a><a title="吓" href="#"><span class="icons icons-smiley_53"></span></a><a title="可怜" href="#"><span class="icons icons-smiley_54"></span></a><a title="菜刀" href="#"><span class="icons icons-smiley_55"></span></a><a title="西瓜" href="#"><span class="icons icons-smiley_56"></span></a><a title="啤酒" href="#"><span class="icons icons-smiley_57"></span></a><a title="篮球" href="#"><span class="icons icons-smiley_58"></span></a><a title="乒乓" href="#"><span class="icons icons-smiley_59"></span></a><a title="咖啡" href="#"><span class="icons icons-smiley_60"></span></a><a title="饭" href="#"><span class="icons icons-smiley_61"></span></a><a title="猪头" href="#"><span class="icons icons-smiley_62"></span></a><a title="玫瑰" href="#"><span class="icons icons-smiley_63"></span></a><a title="凋谢" href="#"><span class="icons icons-smiley_64"></span></a><a title="嘴唇" href="#"><span class="icons icons-smiley_65"></span></a><a title="爱心" href="#"><span class="icons icons-smiley_66"></span></a><a title="心碎" href="#"><span class="icons icons-smiley_67"></span></a><a title="蛋糕" href="#"><span class="icons icons-smiley_68"></span></a><a title="闪电" href="#"><span class="icons icons-smiley_69"></span></a><a title="炸弹" href="#"><span class="icons icons-smiley_70"></span></a><a title="刀" href="#"><span class="icons icons-smiley_71"></span></a><a title="足球" href="#"><span class="icons icons-smiley_72"></span></a><a title="瓢虫" href="#"><span class="icons icons-smiley_73"></span></a><a title="便便" href="#"><span class="icons icons-smiley_74"></span></a><a title="月亮" href="#"><span class="icons icons-smiley_75"></span></a><a title="太阳" href="#"><span class="icons icons-smiley_76"></span></a><a title="礼物" href="#"><span class="icons icons-smiley_77"></span></a><a title="拥抱" href="#"><span class="icons icons-smiley_78"></span></a><a title="强" href="#"><span class="icons icons-smiley_79"></span></a><a title="弱" href="#"><span class="icons icons-smiley_80"></span></a><a title="握手" href="#"><span class="icons icons-smiley_81"></span></a><a title="胜利" href="#"><span class="icons icons-smiley_82"></span></a><a title="抱拳" href="#"><span class="icons icons-smiley_83"></span></a><a title="勾引" href="#"><span class="icons icons-smiley_84"></span></a><a title="拳头" href="#"><span class="icons icons-smiley_85"></span></a><a title="差劲" href="#"><span class="icons icons-smiley_86"></span></a><a title="爱你" href="#"><span class="icons icons-smiley_87"></span></a><a title="NO" href="#"><span class="icons icons-smiley_88"></span></a><a title="OK" href="#"><span class="icons icons-smiley_89"></span></a><a title="爱情" href="#"><span class="icons icons-smiley_90"></span></a><a title="飞吻" href="#"><span class="icons icons-smiley_91"></span></a><a title="跳跳" href="#"><span class="icons icons-smiley_92"></span></a><a title="发抖" href="#"><span class="icons icons-smiley_93"></span></a><a title="怄火" href="#"><span class="icons icons-smiley_94"></span></a><a title="转圈" href="#"><span class="icons icons-smiley_95"></span></a><a title="磕头" href="#"><span class="icons icons-smiley_96"></span></a><a title="回头" href="#"><span class="icons icons-smiley_97"></span></a><a title="跳绳" href="#"><span class="icons icons-smiley_98"></span></a><a title="投降" href="#"><span class="icons icons-smiley_99"></span></a><a title="激动" href="#"><span class="icons icons-smiley_100"></span></a><a title="乱舞" href="#"><span class="icons icons-smiley_101"></span></a><a title="献吻" href="#"><span class="icons icons-smiley_102"></span></a><a title="左太极" href="#"><span class="icons icons-smiley_103"></span></a><a title="右太极" href="#"><span class="icons icons-smiley_104"></span></a><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
				<a class="expression-btn" href="javascript:void(0)" ng-click="toggleFaceBox()"></a>
				<textarea class="chat-input" ng-model="newMessage" ctrl-enter-break-line="createMessage()">
				</textarea> 
				<button class="send-btn" ng-click="createMessage()">发送</button>
			</div>
			<div class="user-list-wrap" ng-show="user_list_show">
				<loading class="user-list-loading" ></loading>
				<ul>
					<li ng-repeat = "user in OnlineUserList" ng-click="showUserInfo(user._id)"><img src={{user.avataUrl?user.avataUrl:'uploadFiles/default.jpg'}}>{{user.username}}</li>	
				</ul>
			</div>
		</div>
		<!-- right-wrap end -->
	</div>
</div>
<div class="popup-wrap" ng-show="popupWrapShow">
  <div class="panel-layer">
  	<loading class="popup-loading" ng-show="popupLoadingShow" style="position:absolute;top:120px;left:50%;margin-left:-30px;"/>
  	<header>
  		个人资料
  		<span class="panel-close-btn" ng-click="closePopup()">关闭</span>
  	</header>
  	<div class="body-wrap">
  		<section class="face-account clear">
  			<img class="panel-face" ng-src={{popupUserInfo.avataUrl||'uploadFiles/default.jpg'}}>
  			<input type = "file" class = "uploadfile" onchange="uploadFile()" name="files" ng-show="userEidtable"/>
  			<div class="right-area">
  				<h3 class="user-name">{{popupUserInfo.username}}</h3>
  				<p class="account">
  					<span>账号:</span><span class="account-number">{{popupUserInfo.email}}</span>
  				</p>
  			</div>
  		</section>
  		<section class="sign-wrap">
  			<div class="sign-label">个性签名</div><div class="sign-content"><span class="content-area">{{popupUserInfo.sign}}</span><textarea class="eidt-area"></textarea><i class="icon-pen" ng-show="userEidtable" ng-click="processItem($event)"></i></div>
  		</section>
  		<section class="other-info-wrap">
  		<p class="sex-info"><label>性别</label> <span>{{popupUserInfo.sex === 0?'未知':popupUserInfo.sex ===1?'男':popupUserInfo.sex===2?'女':''}}</span><select class="sex-select eidt-area"><option value="1">男</option><option value="2">女</option></select><i class="icon-pen" ng-show="userEidtable" ng-click="processItem($event)"></i></p>
  		<p class="age-info"><label>年龄</label> <span>{{popupUserInfo.age}}</span><input type="number" class="eidt-area"></input><i class="icon-pen" ng-show="userEidtable" ng-click="processItem($event)"></i></p>
  		<p class="phone-info"><label>手机</label> <span>{{popupUserInfo.phone}}</span><input type="text" class="eidt-area"></input><i class="icon-pen" ng-show="userEidtable" ng-click="processItem($event)"></i></p>
  		<p class="address-info"><label>地址</label><span>{{popupUserInfo.address}}</span><input type="text" class="eidt-area"></input><i class="icon-pen" ng-show="userEidtable" ng-click="processItem($event)"></i></p>
  		</section>
  	</div>
  </div>
</div>